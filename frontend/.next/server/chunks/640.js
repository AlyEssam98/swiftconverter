"use strict";exports.id=640,exports.ids=[640],exports.modules={4941:(e,s,t)=>{t.d(s,{Z:()=>j});var r=t(8819),a=t(7266),l=t(772),i=t(7673),n=t(6824),o=t(3685),c=t(8091),d=t(7506),x=t(7243),m=t(361),u=t(3810),h=t(1540),g=t(4019),f=t(1291),b=t(4975),v=t(8916),p=t(434);function j({isDashboard:e=!1,onConversionComplete:s}){let[t,j]=(0,a.useState)("MT103"),[N,y]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[T,z]=(0,a.useState)(!1),[S,I]=(0,a.useState)(null),[k,M]=(0,a.useState)(!1),[D,F]=(0,a.useState)(!1),[E,Z]=(0,a.useState)(!1),R=(0,a.useRef)(null),U=e=>{if(!e)return;let s=new FileReader;s.onload=e=>{y(e.target?.result),I(null)},s.readAsText(e)},O=async()=>{z(!0),I(null);try{let e=await n.default.post("/api/v1/conversion/mt-to-mx",{mtMessage:N,messageType:t});C(e.data.xml),M(!0),s&&s()}catch(r){let e=r.response?.data,s=e?.code,t=e?.message||e?.error;t||(t="INSUFFICIENT_CREDITS"===s?"You have run out of credits. Please purchase more to continue converting.":"ANONYMOUS_LIMIT_REACHED"===s?"You have reached the free conversion limit. Sign up to get 5 free credits.":"Unable to process your SWIFT message. Please verify the message format and try again."),I({message:t,code:s}),F(!0)}finally{z(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["MT103","MT202","MT202COV","MT940","MT102"].map(e=>(0,r.jsx)("button",{onClick:()=>j(e),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${t===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"MT Input"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"file",ref:R,onChange:e=>e.target.files&&U(e.target.files[0]),className:"hidden",accept:".txt,.swift,.mt,.msg,.out,.xml,text/*"}),(0,r.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>R.current?.click(),className:"h-8 text-gray-600",children:[(0,r.jsx)(o.Z,{className:"w-3.5 h-3.5 mr-1"}),"Upload"]}),N&&(0,r.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>{y(""),C(""),I(null)},className:"h-8 text-gray-500 hover:text-red-600",children:[(0,r.jsx)(c.Z,{className:"w-3.5 h-3.5 mr-1"}),"Clear"]})]})]}),(0,r.jsxs)("div",{className:`relative rounded-lg border-2 border-dashed transition-colors ${E?"border-blue-500 bg-blue-50":"border-gray-200"}`,onDragOver:e=>{e.preventDefault(),Z(!0)},onDragLeave:e=>{e.preventDefault(),Z(!1)},onDrop:e=>{e.preventDefault(),Z(!1);let s=e.dataTransfer.files;s&&s.length>0&&U(s[0])},children:[(0,r.jsx)(i.g,{placeholder:"Paste your SWIFT MT message here...",value:N,onChange:e=>y(e.target.value),className:`min-h-[300px] font-mono text-sm border-0 focus-visible:ring-0 ${E?"opacity-50":""}`}),E&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-50/90 rounded-lg",children:(0,r.jsx)("p",{className:"text-blue-600 font-medium",children:"Drop file here"})})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[N.length," characters"]})]}),(0,r.jsx)("div",{className:"flex justify-center pt-2",children:(0,r.jsx)(l.z,{onClick:O,disabled:!N||T,size:"lg",className:"bg-blue-600 hover:bg-blue-700 min-w-[200px]",children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Converting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Convert to MX"]})})})]}),k&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 text-green-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Conversion Successful"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(w)},children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"Copy"]}),(0,r.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([w],{type:"text/xml"}),s=URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=`converted-${t.toLowerCase()}.xml`,r.click()},children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-1"}),"Download"]}),(0,r.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>M(!1),children:(0,r.jsx)(g.Z,{className:"w-4 h-4"})})]})]}),(0,r.jsx)("div",{className:"p-4 overflow-auto flex-1",children:(0,r.jsx)(i.g,{value:w,readOnly:!0,className:"min-h-[400px] font-mono text-sm bg-gray-50 border-gray-200"})})]})}),D&&S&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.Z,{className:`w-5 h-5 ${"ANONYMOUS_LIMIT_REACHED"===S.code?"text-blue-600":"INSUFFICIENT_CREDITS"===S.code?"text-amber-600":"text-red-600"}`}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Conversion Failed"})]}),(0,r.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>F(!1),children:(0,r.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:S.message}),"ANONYMOUS_LIMIT_REACHED"===S.code&&(0,r.jsx)(p.default,{href:"/auth/register",children:(0,r.jsxs)(l.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Sign Up & Get 5 Free Credits"]})}),"INSUFFICIENT_CREDITS"===S.code&&(0,r.jsx)(p.default,{href:"/dashboard/credits",children:(0,r.jsxs)(l.z,{className:"bg-amber-600 hover:bg-amber-700",children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})}),!S.code&&(0,r.jsx)(l.z,{variant:"outline",onClick:()=>F(!1),children:"Try Again"})]})]})})]})}},772:(e,s,t)=>{t.d(s,{z:()=>c});var r=t(8819),a=t(7266),l=t(6438),i=t(9360),n=t(7863);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},c)=>{let d=a?l.g7:"button";return(0,r.jsx)(d,{className:(0,n.cn)(o({variant:s,size:t,className:e})),ref:c,...i})});c.displayName="Button"},7673:(e,s,t)=>{t.d(s,{g:()=>i});var r=t(8819),a=t(7266),l=t(7863);let i=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"}};