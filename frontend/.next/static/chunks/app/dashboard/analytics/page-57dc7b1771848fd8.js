(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{8760:(e,s,t)=>{Promise.resolve().then(t.bind(t,3733))},3733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(7437),a=t(2265),l=t(6013),n=t(3274),i=t(3409),c=t(3225),d=t(2940),o=t(1935),u=t(6264);function m(){let[e,s]=(0,a.useState)(null),[t,m]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async()=>{try{let e=await u.default.get("/api/v1/analytics/stats");s(e.data)}catch(e){console.error("Failed to fetch analytics",e)}finally{m(!1)}})()},[]),t)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsx)(n.Z,{className:"w-8 h-8 animate-spin text-purple-600"})});let x=Math.max(...(null==e?void 0:e.dailyCounts.map(e=>e.count))||[0],1);return(0,r.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Analytics"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track your usage and performance metrics"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5 text-purple-600"}),(0,r.jsx)("span",{children:"Usage Statistics"})]}),(0,r.jsx)(l.SZ,{children:"Conversions in the last 7 days"})]}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"flex items-end justify-between h-48 pt-6",children:null==e?void 0:e.dailyCounts.map((e,s)=>(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1 space-y-2 group",children:[(0,r.jsx)("div",{className:"relative w-full flex justify-center items-end h-full px-1",children:(0,r.jsx)("div",{className:"w-full max-w-[24px] bg-gradient-to-t from-purple-500 to-pink-500 rounded-t-sm transition-all duration-500 ease-out group-hover:from-purple-600 group-hover:to-pink-600",style:{height:"".concat(e.count/x*100,"%"),minHeight:e.count>0?"4px":"0"},children:(0,r.jsxs)("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-[10px] px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[e.count," conv"]})})}),(0,r.jsx)("span",{className:"text-[10px] text-gray-500 rotate-45 sm:rotate-0 mt-2",children:new Date(e.date).toLocaleDateString(void 0,{weekday:"short"})})]},s))})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"}),(0,r.jsx)("span",{children:"Performance Metrics"})]}),(0,r.jsx)(l.SZ,{children:"Conversion accuracy summary"})]}),(0,r.jsxs)(l.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-green-50 rounded-xl border border-green-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-green-700 mb-1",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Successful"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-900",children:null==e?void 0:e.summary.successful})]}),(0,r.jsxs)("div",{className:"p-4 bg-red-50 rounded-xl border border-red-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-red-700 mb-1",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Failed"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-900",children:null==e?void 0:e.summary.failed})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Overall Success Rate"}),(0,r.jsx)("span",{className:"text-sm font-bold text-purple-600",children:null==e?void 0:e.summary.successRate})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-1000",style:{width:null==e?void 0:e.summary.successRate}})})]})]})]})]})]})}},6013:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>o,ll:()=>c});var r=t(7437),a=t(2265),l=t(7440);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},6264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r,a=t(8472),l=t(357);let n="session_token",i=a.Z.create({baseURL:null!==(r=l.env.NEXT_PUBLIC_API_URL)&&void 0!==r?r:"http://localhost:8081",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let s=sessionStorage.getItem(n);return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),i.interceptors.response.use(e=>e,e=>{var s,t;let r=null===(s=e.response)||void 0===s?void 0:s.status,a=(null===(t=e.config)||void 0===t?void 0:t.url)||"",l=a.includes("/profile")||a.includes("/dashboard")||a.includes("/credits/balance")||a.includes("/conversions");if(401===r&&l){try{sessionStorage.removeItem(n),localStorage.removeItem("token")}catch(e){}return window.location.href="/auth/login",Promise.resolve()}return Promise.reject(e)});let c=i},7440:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(4839),a=t(6164);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}},8030:(e,s,t)=>{"use strict";t.d(s,{Z:()=>c});var r=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...n,width:a,height:a,stroke:t,strokeWidth:c?24*Number(i)/Number(a):i,className:l("lucide",d),...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),c=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:c,...d}=t;return(0,r.createElement)(i,{ref:n,iconNode:s,className:l("lucide-".concat(a(e)),c),...d})});return t.displayName="".concat(e),t}},3409:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8030).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2940:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8030).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1935:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8030).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3274:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3225:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[472,868,130,215,744],()=>s(8760)),_N_E=e.O()}]);