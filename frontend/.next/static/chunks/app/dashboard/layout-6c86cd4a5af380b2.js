(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{8409:(e,t,a)=>{Promise.resolve().then(a.bind(a,437))},437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(7437),s=a(3429),l=a(6463),i=a(2265),n=a(7138),o=a(8030);let c=(0,o.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d=(0,o.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=a(2023),u=a(3409),y=a(6935);let x=(0,o.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),m=(0,o.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var f=a(8969),p=a(4697);let v=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=(0,o.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function b(e){let{children:t}=e,{user:a,logout:o,isLoading:b}=(0,s.a)(),k=(0,l.useRouter)(),[w,j]=(0,i.useState)(!1),[N,C]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{C(!0)},[]),(0,i.useEffect)(()=>{!N||b||a||k.push("/auth/login")},[a,k,b,N]),b||!N)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!a)return null;let Z=[{href:"/dashboard",label:"Overview",icon:c},{href:"/dashboard/convert",label:"Convert",icon:d},{href:"/dashboard/history",label:"History",icon:h.Z},{href:"/dashboard/analytics",label:"Analytics",icon:u.Z},{href:"/dashboard/credits",label:"Credits",icon:y.Z},{href:"/dashboard/contact",label:"Contact Us",icon:x},{href:"/dashboard/settings",label:"Settings",icon:m}];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("aside",{className:"fixed top-0 left-0 z-40 h-screen w-64 bg-white border-r border-gray-200 transition-transform lg:translate-x-0 ".concat(w?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"h-full flex flex-col p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6 px-2",children:[(0,r.jsxs)(n.default,{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(f.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"SWIFT Converter"})]}),(0,r.jsx)("button",{onClick:()=>j(!1),className:"lg:hidden text-gray-400 hover:text-gray-600",children:(0,r.jsx)(p.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("nav",{className:"flex-1 space-y-1",children:Z.map(e=>(0,r.jsxs)(n.default,{href:e.href,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors text-sm font-medium",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.label})]},e.href))}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-1",children:[(0,r.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500 truncate",children:(null==a?void 0:a.email)||"Loading..."}),(0,r.jsxs)("button",{onClick:o,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-red-50 hover:text-red-600 transition-colors w-full text-sm font-medium",children:[(0,r.jsx)(v,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})}),(0,r.jsxs)("div",{className:"lg:ml-64",children:[(0,r.jsx)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{onClick:()=>j(!w),className:"lg:hidden text-gray-600 hover:text-gray-900 p-1",children:(0,r.jsx)(g,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:(0,r.jsx)("span",{children:"SWIFT MT to MX Converter"})})]})}),(0,r.jsx)("main",{className:"p-4 md:p-6",children:t})]}),w&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/20 z-30 lg:hidden",onClick:()=>j(!1)})]})}},3429:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>c,a:()=>d});var r=a(7437),s=a(2265),l=a(6264),i=a(6463);let n=(0,s.createContext)(void 0),o="session_token";function c(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[d,h]=(0,s.useState)(!0),u=(0,i.useRouter)(),y=(0,s.useCallback)(()=>{try{sessionStorage.removeItem(o),localStorage.removeItem("token")}catch(e){}c(null)},[]),x=(0,s.useCallback)(async()=>{try{let e=await l.default.get("/api/v1/profile");c(t=>t?{...t,...e.data}:{token:"",...e.data})}catch(e){console.error("Failed to fetch profile",e)}},[]),m=(0,s.useCallback)(async()=>{await x()},[x]);(0,s.useEffect)(()=>{(async()=>{let e=sessionStorage.getItem(o);if(e){c({token:e});try{await x()}catch(e){console.error("Failed to fetch profile during init",e)}}h(!1)})()},[]);let f=async()=>{try{await l.default.post("/api/v1/auth/logout")}catch(e){}y(),u.push("/auth/login")};return(0,r.jsx)(n.Provider,{value:{user:a,login:e=>{sessionStorage.setItem(o,e),c({token:e}),h(!1)},logout:f,isLoading:d,refreshUser:m},children:t})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6264:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r,s=a(8472),l=a(357);let i="session_token",n=s.Z.create({baseURL:null!==(r=l.env.NEXT_PUBLIC_API_URL)&&void 0!==r?r:"http://localhost:8081",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=sessionStorage.getItem(i);return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),n.interceptors.response.use(e=>e,e=>{var t,a;let r=null===(t=e.response)||void 0===t?void 0:t.status,s=(null===(a=e.config)||void 0===a?void 0:a.url)||"",l=s.includes("/profile")||s.includes("/dashboard")||s.includes("/credits/balance")||s.includes("/conversions");if(401===r&&l){try{sessionStorage.removeItem(i),localStorage.removeItem("token")}catch(e){}return window.location.href="/auth/login",Promise.resolve()}return Promise.reject(e)});let o=n},8030:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...u}=e;return(0,r.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:a,strokeWidth:o?24*Number(n)/Number(s):n,className:l("lucide",c),...u},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,i)=>{let{className:o,...c}=a;return(0,r.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(s(e)),o),...c})});return a.displayName="".concat(e),a}},8969:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(8030).Z)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]])},3409:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(8030).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6935:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(8030).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},2023:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(8030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},4697:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(8030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6463:(e,t,a)=>{"use strict";var r=a(1169);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[472,138,130,215,744],()=>t(8409)),_N_E=e.O()}]);